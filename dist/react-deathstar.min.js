<<<<<<< HEAD
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("react-deathstar",["react"],t):"object"==typeof exports?exports["react-deathstar"]=t(require("react")):e["react-deathstar"]=t(e.React)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DeathStar=void 0;var i=r(1),s=n(i);t.DeathStar=s["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(2),u=r(3),l=n(u),h="",p=function(){function e(){s(this,e),this.storage={},this.setStore.bind(this),this.checkKey.bind(this)}return a(e,[{key:"setContext",value:function(e,t){var r=Object.keys(this.storage);r.indexOf(e)!==-1?this.storage[e]=t:console.log("O contexto não pode ser armazenado pois a key informada ja exite no storage!")}},{key:"getContext",value:function(e){return this.storage[e]}},{key:"builder",value:function(e,t,r){return r&&0===r.length&&(r=null),t=t.children?Object.assign({},t,{children:null}):t,t=Object.keys(t).indexOf("key")!==-1?Object.assign({},t,{key:t.key}):Object.assign({},t,{key:this.getId()}),(0,c.createElement)(e,t,r)}},{key:"clearBus",value:function(){this.storage={}}},{key:"destroy",value:function(e){var t=this;if(e instanceof Array)!function(){var r=Object.keys(t.storage);e.map(function(e){r.map(function(r){r.split("-")[0]===e&&delete t.storage[r]},t)},t)}();else{var r=Object.keys(this.storage);r.map(function(r){r.split("-")[0]===e&&delete t.storage[r]},this)}}},{key:"container",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=e.props;return Object.keys(e).indexOf("key")!==-1&&e.key&&!t&&(r=Object.assign({},r,{key:e.key})),Object.keys(e).indexOf("ref")!==-1&&e.ref&&(r=Object.assign({},r,{ref:e.ref})),this.builder(e.type,r?r:null,Object.keys(e.props).indexOf("children")!==-1?this.processChildren(e.props.children,t):[])}},{key:"processChildren",value:function(e,t){return e?e instanceof Array?e.length>0?e.map(function(e){if(e)return e.type?this.container(e,t):e},this):null:e.type?this.container(e,t):e:null}},{key:"update",value:function(){this.context&&this.context.forceUpdate()}},{key:"processElement",value:function(e,t){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=this.setStore(t,e,r);return this.mapChildrens(n.props.children,t),this.manipulate(t)}},{key:"mapChildrens",value:function(e,t){e&&(e instanceof Array?e.map(function(e,r){e&&(++r,e.props&&this.mapChildrens(e.props.children,t+"-"+this.haveTypeName(e.type)+r),e.props&&(this.storage[t+"-"+this.haveTypeName(e.type)+r]=e.key))},this):(e.props&&this.mapChildrens(e.props.children,t+"-"+this.haveTypeName(e.type)+"1"),e.props&&(this.storage[t+"-"+this.haveTypeName(e.type)+"1"]=e.key)))}},{key:"haveTypeName",value:function(e){return e.displayName?e.displayName:e.name?e.name:e}},{key:"getId",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"_"+e()+"_"+e()+"_"+e()+"_"+e()+e()+e()}},{key:"setStore",value:function(e,t){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return this.storage[e]=this.container(t,r),this.storage[e]}},{key:"manipulate",value:function(e){return this.checkKey(e)?new l["default"](e):""}},{key:"manipulateCopy",value:function(e,t){return this.manipulate(e).copy(t)}},{key:"getElement",value:function(e){if(this.checkKey(e)){var t=this.storage[e].props?this.storage[e].key:this.storage[e],r=e.split("-");if(this.checkKey(r[0])){var n=this.storage[r[0]];return n.key===t?n:this.walkChildren(n.props.children,t)}}}},{key:"setProps",value:function(e,t){if(!(e||t instanceof Object))return void console.log("metodo: setProps - Você precisa especificar uma key em string e um props no formato objeto!");if(this.checkKey(e)){var r=this.getElement(e);Object.keys(t).indexOf("ref")!==-1&&(r=Object.assign({},r,{ref:t.ref}),delete t.ref),r=this.swapPropsAttr(r,t),this.updateAllReferences(r)}}},{key:"walkChildren",value:function(e,t){var r="";if(e)if(e instanceof Array){for(var n=0;n<e.length;n++)if(e[n]){if(e[n].key===t)return e[n];if(e[n].props&&(r=this.walkChildren(e[n].props.children,t)),r&&r.key===t)return r}}else{if(e.key===t)return e;if(e.props&&(r=this.walkChildren(e.props.children,t)),r&&r.key===t)return r}}},{key:"copy",value:function(e,t){return this.checkKey(e)?this.processElement(this.getElement(e),t,!0):""}},{key:"setAttribute",value:function(e,t){if(!e&&!t||!(t instanceof Object))return void console.log("metodo: setAttributes - Você precisa especificar uma key em string e um atributo no formato objeto!");if(this.checkKey(e))if(t.ref){var r=this.getElement(e),n=Object.assign({},r,t);this.updateAllReferences(n)}else if(this.checkProps(e)){var i=this.getElement(e),s=this.swapPropsAttr(i,t);this.updateAllReferences(s)}}},{key:"modifyAttribute",value:function(e,t){var r=this;Object.keys(t).map(function(n){r.processModify(e,n,t[n])},this)}},{key:"processModify",value:function(e,t,r){if(!e&&!t&&!r)return void console.log("metodo: modifyAttribute - Você precisa especificar a key, o nome do atributo e seu valor por parâmetro!");if(this.checkKey(e)&&this.checkProps(e)&&(this.checkAttribute(e,t)||"ref"===t)){var n=this.getElement(e);if("ref"===t){var i=Object.assign({},n,{ref:r});this.updateAllReferences(i)}else{var s={};s[t]=r;var o=this.swapPropsAttr(n,s);this.updateAllReferences(o)}}}},{key:"removeAttribute",value:function(e,t){var r=this;t instanceof Array?t.map(function(t){r.processRemove(e,t)},this):this.processRemove(e,t)}},{key:"processRemove",value:function(e,t){var r=this;return e||t?void(this.checkKey(e)&&this.checkProps(e)&&!function(){var n=r.getElement(e);if("ref"===t){var i=Object.assign({},n,{ref:null});r.updateAllReferences(i)}r.checkAttribute(e,t)&&!function(){var e=Object.keys(n.props);e.splice(e.indexOf(t),1);var i={};e.map(function(e){i[e]=n.props[e]});var s=Object.assign({},n,{props:i});r.updateAllReferences(s)}()}()):void console.log("metodo: removeAttribute - Você precisa especificar uma key em string e o nome do atributo a ser removido!")}},{key:"setChildren",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(!e&&!t)return void console.log("metodo: setChildren - Você precisa especificar a key e um elemento a ser inserido!");if(this.checkKey(e)){var s=this.getElement(e);if(this.checkProps(e))if(s.props.children)if(t instanceof Array){var o=s.props.children;o instanceof Array||(o=new Array(o));var a={};if(r){var c,u;r--,n?(c=o).splice.apply(c,[r,0].concat(i(t))):(u=o).splice.apply(u,[r,1].concat(i(t))),a=this.swapPropsAttr(s,{children:o})}else a=this.swapPropsAttr(s,{children:o.concat(t)});this.updateAllReferences(a)}else{var l=s.props.children instanceof Array?s.props.children:new Array(s.props.children);r?(r--,n?l.splice(r,0,t):l[r]=t):l.push(t);var h=this.swapPropsAttr(s,{children:l});this.updateAllReferences(h)}else{var p=this.swapPropsAttr(s,{children:t});this.updateAllReferences(p)}}}},{key:"removeChildren",value:function(e,t){var r=this;t instanceof Array&&t!==-1?t.map(function(t){r.processRemoveChildren(e,t)},this):t===-1?this.processResetChildren(e):this.processRemoveChildren(e,t)}},{key:"processRemoveChildren",value:function(e,t){if(t--,!e&&t)return void console.log("metodo: removeChildren - Você precisa especificar a key onde será retirada a children e o índice que corresponde a children a ser removida!");if(this.checkKey(e)){var r=this.getElement(e);if(r.props.children instanceof Array){var n=r.props.children.filter(function(e,r){return t!==r}),i=this.swapPropsAttr(r,{children:n});this.updateAllReferences(i)}else{var s=this.swapPropsAttr(r,{children:null});this.updateAllReferences(s)}}else console.log("Chave não encontrada!")}},{key:"processResetChildren",value:function(e){if(!e)return void console.log("metodo: removeChildren - Você precisa especificar a key onde será retirada os childrens !");if(this.checkKey(e)){var t=this.getElement(e),r=this.swapPropsAttr(t,{children:null});this.updateAllReferences(r)}else console.log("Chave não encontrada!")}},{key:"updateAllReferences",value:function(e){var t=Object.keys(this.storage);t.map(function(t){var r=this.storage[t];if(r.props)if(r.key!==e.key){var n=this.checkChildrensInArray(e,r);this.storage[t]=this.processElement(this.swapPropsAttr(r,{children:n}),t).getElement()}else this.storage[t]=this.processElement(e,t).getElement()},this)}},{key:"checkChildrensInArray",value:function(e,t){var r=this;if(!t||!t.props)return t;var n=function(){var n=t.props.children,i=[];if(n&&n instanceof Array)return n.map(function(t){var r=this.checkChildrensInArray(e,t);i=this.compareChildrens(e,t,i,r)},r),{v:i};if(n&&n.props){var s=r.checkChildrensInArray(e,n);return i=r.compareChildrens(e,n,i,s),{v:i}}return{v:n}}();return"object"===("undefined"==typeof n?"undefined":o(n))?n.v:void 0}},{key:"compareChildrens",value:function(e,t,r,n){return t&&t.key&&t.key===e.key?r.push(e):t&&t.props?r.push(this.swapPropsAttr(t,{children:n})):r.push(t),r}},{key:"swapPropsAttr",value:function(e,t){var r=Object.assign({},e.props,t);return Object.assign({},e,{props:r})}},{key:"checkKey",value:function(e){return Object.keys(this.storage).indexOf(e)!==-1}},{key:"checkProps",value:function(e){return!!this.checkKey(e)&&Object.keys(this.getElement(e)).indexOf("props")!==-1}},{key:"checkAttribute",value:function(e,t){return!!this.checkKey(e)&&(!!this.checkProps(e)&&Object.keys(this.getElement(e).props).indexOf(t)!==-1)}}],[{key:"getInstance",value:function(){return h?h:h=new e}}]),e}();t["default"]=p},function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=n(o),c=function(){function e(t){i(this,e),this.instance=a["default"].getInstance(),this.key=t}return s(e,[{key:"getMyKey",value:function(){return this.key}},{key:"getElement",value:function(){return this.instance.getElement(this.key)}},{key:"copy",value:function(e){return this.instance.copy(this.key,e)}},{key:"setAttribute",value:function(e){return this.instance.setAttribute(this.key,e),this}},{key:"setProps",value:function(e){return this.instance.setProps(this.key,e),this}},{key:"modifyAttribute",value:function(e){return this.instance.modifyAttribute(this.key,e),this}},{key:"removeAttribute",value:function(e){return this.instance.removeAttribute(this.key,e),this}},{key:"setChildren",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return this.instance.setChildren(this.key,e,t,r),this}},{key:"removeChildren",value:function(e){return this.instance.removeChildren(this.key,e),this}},{key:"checkAttribute",value:function(e){return this.instance.checkAttribute(this.key,e)}},{key:"update",value:function(){return this.instance.update(),this}},{key:"manipulateCopy",value:function(e){return this.instance.manipulateCopy(this.key,e)}},{key:"manipulate",value:function(e){return this.key=e,this}},{key:"destroy",value:function(e){return this.instance.destroy(e),this}}]),e}();t["default"]=c}])});
=======
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("react-deathstar",["react"],t):"object"==typeof exports?exports["react-deathstar"]=t(require("react")):e["react-deathstar"]=t(e.React)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DeathStar=void 0;var i=r(1),s=n(i);t.DeathStar=s["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(2),u=r(3),l=n(u),h="",p=function(){function e(t){s(this,e),this.storage={},this.setStore.bind(this),this.checkKey.bind(this),this.context=t}return a(e,[{key:"builder",value:function(e,t,r){return r&&0===r.length&&(r=null),t=t.children?Object.assign({},t,{children:null}):t,t=Object.keys(t).indexOf("key")!==-1?Object.assign({},t,{key:t.key}):Object.assign({},t,{key:this.getId()}),(0,c.createElement)(e,t,r)}},{key:"clearBus",value:function(){this.storage={}}},{key:"destroy",value:function(e){var t=this;if(e instanceof Array)!function(){var r=Object.keys(t.storage);e.map(function(e){r.map(function(r){r.split("-")[0]===e&&delete t.storage[r]},t)},t)}();else{var r=Object.keys(this.storage);r.map(function(r){r.split("-")[0]===e&&delete t.storage[r]},this)}}},{key:"container",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=e.props;return Object.keys(e).indexOf("key")!==-1&&e.key&&!t&&(r=Object.assign({},r,{key:e.key})),Object.keys(e).indexOf("ref")!==-1&&e.ref&&(r=Object.assign({},r,{ref:e.ref})),this.builder(e.type,r?r:null,Object.keys(e.props).indexOf("children")!==-1?this.processChildren(e.props.children,t):[])}},{key:"processChildren",value:function(e,t){return e?e instanceof Array?e.length>0?e.map(function(e){if(e)return e.type?this.container(e,t):e},this):null:e.type?this.container(e,t):e:null}},{key:"update",value:function(){this.context&&this.context.forceUpdate()}},{key:"processElement",value:function(e,t){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=this.setStore(t,e,r);return this.mapChildrens(n.props.children,t),this.manipulate(t)}},{key:"mapChildrens",value:function(e,t){e&&(e instanceof Array?e.map(function(e,r){e&&(++r,e.props&&this.mapChildrens(e.props.children,t+"-"+this.haveTypeName(e.type)+r),e.props&&(this.storage[t+"-"+this.haveTypeName(e.type)+r]=e.key))},this):(e.props&&this.mapChildrens(e.props.children,t+"-"+this.haveTypeName(e.type)+"1"),e.props&&(this.storage[t+"-"+this.haveTypeName(e.type)+"1"]=e.key)))}},{key:"haveTypeName",value:function(e){return e.displayName?e.displayName:e.name?e.name:e}},{key:"getId",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"setStore",value:function(e,t){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return this.storage[e]=this.container(t,r),this.storage[e]}},{key:"manipulate",value:function(e){return this.checkKey(e)?new l["default"](e):""}},{key:"manipulateCopy",value:function(e,t){return this.manipulate(e).copy(t)}},{key:"getElement",value:function(e){if(this.checkKey(e)){var t=this.storage[e].props?this.storage[e].key:this.storage[e],r=e.split("-");if(this.checkKey(r[0])){var n=this.storage[r[0]];return n.key===t?n:this.walkChildren(n.props.children,t)}}}},{key:"setProps",value:function(e,t){if(!(e||t instanceof Object))return void console.log("metodo: setProps - Você precisa especificar uma key em string e um props no formato objeto!");if(this.checkKey(e)){var r=this.getElement(e);Object.keys(t).indexOf("ref")!==-1&&(r=Object.assign({},r,{ref:t.ref}),delete t.ref),r=this.swapPropsAttr(r,t),this.updateAllReferences(r)}}},{key:"walkChildren",value:function(e,t){var r="";if(e)if(e instanceof Array){for(var n=0;n<e.length;n++)if(e[n]){if(e[n].key===t)return e[n];if(e[n].props&&(r=this.walkChildren(e[n].props.children,t)),r&&r.key===t)return r}}else{if(e.key===t)return e;if(e.props&&(r=this.walkChildren(e.props.children,t)),r&&r.key===t)return r}}},{key:"copy",value:function(e,t){return this.checkKey(e)?this.processElement(this.getElement(e),t,!0):""}},{key:"setAttribute",value:function(e,t){if(!e&&!t||!(t instanceof Object))return void console.log("metodo: setAttributes - Você precisa especificar uma key em string e um atributo no formato objeto!");if(this.checkKey(e))if(t.ref){var r=this.getElement(e),n=Object.assign({},r,t);this.updateAllReferences(n)}else if(this.checkProps(e)){var i=this.getElement(e),s=this.swapPropsAttr(i,t);this.updateAllReferences(s)}}},{key:"modifyAttribute",value:function(e,t){var r=this;Object.keys(t).map(function(n){r.processModify(e,n,t[n])},this)}},{key:"processModify",value:function(e,t,r){if(!e&&!t&&!r)return void console.log("metodo: modifyAttribute - Você precisa especificar a key, o nome do atributo e seu valor por parâmetro!");if(this.checkKey(e)&&this.checkProps(e)&&(this.checkAttribute(e,t)||"ref"===t)){var n=this.getElement(e);if("ref"===t){var i=Object.assign({},n,{ref:r});this.updateAllReferences(i)}else{var s={};s[t]=r;var o=this.swapPropsAttr(n,s);this.updateAllReferences(o)}}}},{key:"removeAttribute",value:function(e,t){var r=this;t instanceof Array?t.map(function(t){r.processRemove(e,t)},this):this.processRemove(e,t)}},{key:"processRemove",value:function(e,t){var r=this;return e||t?void(this.checkKey(e)&&this.checkProps(e)&&!function(){var n=r.getElement(e);if("ref"===t){var i=Object.assign({},n,{ref:null});r.updateAllReferences(i)}r.checkAttribute(e,t)&&!function(){var e=Object.keys(n.props);e.splice(e.indexOf(t),1);var i={};e.map(function(e){i[e]=n.props[e]});var s=Object.assign({},n,{props:i});r.updateAllReferences(s)}()}()):void console.log("metodo: removeAttribute - Você precisa especificar uma key em string e o nome do atributo a ser removido!")}},{key:"setChildren",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(!e&&!t)return void console.log("metodo: setChildren - Você precisa especificar a key e um elemento a ser inserido!");if(this.checkKey(e)){var s=this.getElement(e);if(this.checkProps(e))if(s.props.children)if(t instanceof Array){var o=s.props.children;o instanceof Array||(o=new Array(o));var a={};if(r){var c,u;r--,n?(c=o).splice.apply(c,[r,0].concat(i(t))):(u=o).splice.apply(u,[r,1].concat(i(t))),a=this.swapPropsAttr(s,{children:o})}else a=this.swapPropsAttr(s,{children:o.concat(t)});this.updateAllReferences(a)}else{var l=s.props.children instanceof Array?s.props.children:new Array(s.props.children);r?(r--,n?l.splice(r,0,t):l[r]=t):l.push(t);var h=this.swapPropsAttr(s,{children:l});this.updateAllReferences(h)}else{var p=this.swapPropsAttr(s,{children:t});this.updateAllReferences(p)}}}},{key:"removeChildren",value:function(e,t){var r=this;t instanceof Array&&t!==-1?t.map(function(t){r.processRemoveChildren(e,t)},this):t===-1?this.processResetChildren(e):this.processRemoveChildren(e,t)}},{key:"processRemoveChildren",value:function(e,t){if(t--,!e&&t)return void console.log("metodo: removeChildren - Você precisa especificar a key onde será retirada a children e o índice que corresponde a children a ser removida!");if(this.checkKey(e)){var r=this.getElement(e);if(r.props.children instanceof Array){var n=r.props.children.filter(function(e,r){return t!==r}),i=this.swapPropsAttr(r,{children:n});this.updateAllReferences(i)}else{var s=this.swapPropsAttr(r,{children:null});this.updateAllReferences(s)}}else console.log("Chave não encontrada!")}},{key:"processResetChildren",value:function(e){if(!e)return void console.log("metodo: removeChildren - Você precisa especificar a key onde será retirada os childrens !");if(this.checkKey(e)){var t=this.getElement(e),r=this.swapPropsAttr(t,{children:null});this.updateAllReferences(r)}else console.log("Chave não encontrada!")}},{key:"updateAllReferences",value:function(e){var t=Object.keys(this.storage);t.map(function(t){var r=this.storage[t];if(r.props)if(r.key!==e.key){var n=this.checkChildrensInArray(e,r);this.storage[t]=this.processElement(this.swapPropsAttr(r,{children:n}),t).getElement()}else this.storage[t]=this.processElement(e,t).getElement()},this)}},{key:"checkChildrensInArray",value:function(e,t){var r=this;if(!t||!t.props)return t;var n=function(){var n=t.props.children,i=[];if(n&&n instanceof Array)return n.map(function(t){var r=this.checkChildrensInArray(e,t);i=this.compareChildrens(e,t,i,r)},r),{v:i};if(n&&n.props){var s=r.checkChildrensInArray(e,n);return i=r.compareChildrens(e,n,i,s),{v:i}}return{v:n}}();return"object"===("undefined"==typeof n?"undefined":o(n))?n.v:void 0}},{key:"compareChildrens",value:function(e,t,r,n){return t&&t.key&&t.key===e.key?r.push(e):t&&t.props?r.push(this.swapPropsAttr(t,{children:n})):r.push(t),r}},{key:"swapPropsAttr",value:function(e,t){var r=Object.assign({},e.props,t);return Object.assign({},e,{props:r})}},{key:"checkKey",value:function(e){return Object.keys(this.storage).indexOf(e)!==-1}},{key:"checkProps",value:function(e){return!!this.checkKey(e)&&Object.keys(this.getElement(e)).indexOf("props")!==-1}},{key:"checkAttribute",value:function(e,t){return!!this.checkKey(e)&&(!!this.checkProps(e)&&Object.keys(this.getElement(e).props).indexOf(t)!==-1)}}],[{key:"getInstance",value:function(t){return h?h:h=new e(t)}}]),e}();t["default"]=p},function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=n(o),c=function(){function e(t){i(this,e),this.instance=a["default"].getInstance(),this.key=t}return s(e,[{key:"getMyKey",value:function(){return this.key}},{key:"getElement",value:function(){return this.instance.getElement(this.key)}},{key:"copy",value:function(e){return this.instance.copy(this.key,e)}},{key:"setAttribute",value:function(e){return this.instance.setAttribute(this.key,e),this}},{key:"setProps",value:function(e){return this.instance.setProps(this.key,e),this}},{key:"modifyAttribute",value:function(e){return this.instance.modifyAttribute(this.key,e),this}},{key:"removeAttribute",value:function(e){return this.instance.removeAttribute(this.key,e),this}},{key:"setChildren",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return this.instance.setChildren(this.key,e,t,r),this}},{key:"removeChildren",value:function(e){return this.instance.removeChildren(this.key,e),this}},{key:"checkAttribute",value:function(e){return this.instance.checkAttribute(this.key,e)}},{key:"update",value:function(){return this.instance.update(),this}},{key:"manipulateCopy",value:function(e){return this.instance.manipulateCopy(this.key,e)}},{key:"manipulate",value:function(e){return this.key=e,this}},{key:"destroy",value:function(e){return this.instance.destroy(e),this}}]),e}();t["default"]=c}])});
>>>>>>> parent of 00344f5... death start getId fix
